
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Student Signup</title>
 
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="signup.css" rel="stylesheet">
    <link rel ="stylesheet" type="text/css" href="/static/style4.css"></link>
    <script src="static/jquery-3.4.1.min.js"></script>
  </head>
  <style>
      body
      {
      background-image: url(/static/download7.jpg);
      }
      </style>
        <script> 
        $(function() {

            $('#btnSignUp').click(function(e) {
              
              console.log("submit student details");
              var formData = new FormData();
              var file =  $('#fileInput')[0].files[0];
              console.log("file is",file)
              formData.set("image", file);
              formData.set("student_id", $("#student_id").val());
              formData.set("student_name", $("#student_name").val());
              formData.set("student_email", $("#student_email").val());
              formData.set("address", $("#address").val());
              formData.set("phone_no", $("#phone_no").val());
              formData.set("dob", $("#dob").val());
              console.log(formData);
                $.ajax({
                    url: '/student_details',
                    data:  formData,
                    type: 'POST',
                    contentType: false,
                    processData: false,
                    success: function(response) {
                        console.log(response);
                        response = JSON.parse(response)
                        window.location.href = "/show_all_details?student_id=+"+response['student_id']
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            });
        });
          </script>

  <body>
      <div class="container">
          <p style="font-size:x-large; color: red">Welcome {{name}}</p>        
        <h6>Fill your Details</h6>
        <form enctype="multipart/form-data">
          <div class="form-group">
            <label for="file-upload">Upload your Image: </label>
            <input class="input-file" id="fileInput" type="file" name="file">
          </div> 
            <div class="form-group">
                <label for="student_id">Student id:</label>
                <input  class="form-control" id="student_id"  name="student_id" value={{student_id}} >
                </div> 
            <div class="form-group">
                <label for="student_name">Student Name:</label>
                <input  class="form-control" id="student_name"  name="student_name" value={{name}} >
                </div> 
            <div class="form-group">
                <label for="student_email">Student email:</label>
                <input  class="form-control" id="student_email"  name="student_email" value={{email}} >
                </div> 
            <div class="form-group">
            <label for="address">Address:</label>
            <input class="form-control" id="address" placeholder="Enter Address" name="address">
          </div>
          
          <div class="form-group">
            <label for="phone_no">Phone Number:</label>
            <input class="form-control" type="number" id="phone_no" placeholder="Enter Phone Number" name="phone_no">
          </div>
          <div class="form-group">
            <label for="dob">Date Of Birth:</label>
            <input type="date" class="form-control" id="dob" placeholder="Enter Date Of Birth" name="dob">
          </div>
                 
          <button id="btnSignUp"  type="button" class="btn btn-primary" >Submit</button>
        </form>
    </div>


    <a href="/logout">  <button  type="logout" class="btn btn-primary">logout</button>    </a>

      <footer class="footer">
      </footer>
 
    </div>

  </body>
</html>
</div>
</body>
</html>



   
  
 
  